<section class="overview overview-activities">
  <h2 class="overview__title">Activiteiten</h2>
  <div class="grid overview__search">
    <div class="grid__12 grid--bp-med__6">
      <div class="btn-group" dropdown>
        <button id="split-button" type="button" class="btn btn-default" ng-bind="ac.dateRange.label"></button>
        <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle>
          <span class="caret"></span>
          <span class="sr-only">Split button!</span>
        </button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="split-button">
          <li role="menuitem">
            <a href ng-click="ac.updateDateRange(ac.dateRanges.TODAY)">Vandaag</a>
          </li>
          <li role="menuitem">
            <a href ng-click="ac.updateDateRange(ac.dateRanges.NEXT_7_DAYS)">Volgende 7 dagen</a>
          </li>
          <li role="menuitem">
            <a href ng-click="ac.updateDateRange(ac.dateRanges.NEXT_30_DAYS)">Volgende 30 dagen</a>
          </li>
          <li role="menuitem">
            <a href ng-click="ac.updateDateRange(ac.dateRanges.NEXT_12_MONTHS)">Volgende 12 maanden</a>
          </li>
          <li class="divider"></li>
          <li role="menuitem">
            <a href ng-click="ac.updateDateRange(ac.dateRanges.PAST)">Afgelopen activiteiten</a>
          </li>
        </ul>
      </div>
    </div>
    <div class="grid__12 grid--bp-med__6 search text-right">
      <input class="form-control" type="text" ng-model="ac.query" />
      <button class="btn btn-ghost-dark" ng-click="ac.searchParametersChanged()">Zoeken</button>
    </div>
  </div>

  <div class="overview__loading" ng-show="!ac.activitiesLoaded">
    <div class="spinner spinner-small">
      <circle-spinner></circle-spinner>
    </div>
  </div>

  <div class="alert alert-info" ng-if="ac.activitiesLoaded && !ac.totalActivities">Helaas geen activiteiten gevonden... </div>

  <ul class="list-unstyled" ng-if="ac.activitiesLoaded && ac.totalActivities > 0">
    <li class="overview__item overview__item-list" ng-repeat="activity in ac.activities">
      <div class="grid flex-container grid-halfgutter">
        <div class="grid__12 grid--bp-sml__6 first">
          <div class="date" ng-bind="activity.when"></div>
          <h3 ng-bind="activity.title"></h3>
        </div>
        <div class="grid__12 grid--bp-sml__3 middle">
          <!-- col points -->
        </div>
        <div class="grid__12 grid--bp-sml__3 last" ng-switch="ac.getActivityTariff(activity)">
          <div class="free-event" ng-switch-when="free">Gratis</div>
          <div class="tariff-applied" ng-switch-when="maximumReached">Tarief toegekend<span><a class="history-modal" >Historiek</a></span></div>
          <div class="price-differentiation" ng-switch-when="priceDifferentiation">
            <span>vanaf <strong>&euro; {{activity.sales.tariffs.lowestAvailable}}</strong></span>
            <a class="tariff-modal" ui-sref="counter.main.passholder.activityTariffs({ activity: activity })">Tarief kiezen</a>
          </div>
          <div class="kansen-tariff" ng-switch-when="kansenTariff">
            <span><strong>&euro; {{activity.sales.tariffs.lowestAvailable}}</strong> aan kansentarief</span>
            <a class="assign-tariff" onclick="ac.claimTariff(activity.sales.tariffs[0], activity)" >Tarief toekennen</a>
          </div>
          <div class="coupon" ng-switch-when="coupon">
            <strong>&euro; {{activity.sales.tariffs.lowestAvailable}}</strong>
            <span>{{activity.sales.tariffs.list[0].name}}</span>
            <a class="assign-tariff" onclick="ac.claimTariff(activity.sales.tariffs[0], activity)" >Tarief toekennen</a>
          </div>
        </div>
      </div>
    </li>
  </ul>

  <pagination class="pagination"
              total-items="ac.totalActivities"
              ng-model="ac.page"
              items-per-page="ac.limit"
              ng-change="ac.searchParametersChanged()"
              max-size="10"
              previous-text="&lsaquo; Vorige"
              next-text="Volgende &rsaquo;"
              ng-show="ac.totalActivities > ac.limit">
  </pagination>

</section>
